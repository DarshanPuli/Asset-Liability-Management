// ALLOWED ASSET TYPES with HQLA haircuts
Map<String, Double> ALLOWED_ASSET_TYPES = Map.of(
    "cash", 0.00,           // Level 1 - No haircut
    "government_bond", 0.05, // Level 1 - 5% haircut
    "municipal_bond", 0.15,  // Level 2A - 15% haircut
    "corporate_bond", 0.25,  // Level 2B - 25% haircut
    "loan", 1.00            // Not HQLA - 100% haircut
);

// Constraints:
// - Type must be one of the above
// - Cash assets: maturity_date should be null or very short-term
// - Bonds: must have valid maturity_date > today
// - Loans: must be linked to loan table with credit rating

// ALLOWED LIABILITY TYPES with runoff factors
Map<String, Double> ALLOWED_LIABILITY_TYPES = Map.of(
    "retail_savings", 0.05,   // Stable retail deposits - 5% runoff
    "retail_deposit", 0.10,   // Less stable retail - 10% runoff
    "wholesale_deposit", 0.25, // Operational deposits - 25% runoff
    "callable_deposit", 0.40,  // Callable deposits - 40% runoff
    "foreign_deposit", 0.30,   // Foreign currency deposits - 30% runoff
    "debt", 1.00,             // Debt instruments - 100% runoff
    "bond", 0.80,             // Bonds - 80% runoff
    "note", 0.60,             // Short-term notes - 60% runoff
    "repo", 0.05              // Repos - 5% runoff (collateralized)
);

// Constraints:
// - Type must be one of the above
// - maturity_date must be > today for term instruments
// - Callable deposits: must have callable feature flagged
// - Foreign deposits: currency must not be USD



// CREDIT RATING SCALE (1-10)
Map<Integer, String> RATING_DEFINITIONS = Map.of(
    1, "DEFAULT",      // Worst
    2, "POOR",
    3, "BELOW_AVERAGE",
    4, "AVERAGE",
    5, "ABOVE_AVERAGE",
    6, "GOOD",
    7, "VERY_GOOD",
    8, "EXCELLENT",
    9, "SUPERIOR",
    10, "PRIME"        // Best
);

// Constraints:
// - Must be integer between 1-10
// - Rating 1-3: High risk, require additional collateral
// - Rating 8-10: Low risk, preferential treatment


// SUPPORTED CURRENCIES
Set<String> SUPPORTED_CURRENCIES = Set.of(
    "USD", // US Dollar
    "EUR", // Euro
    "GBP", // British Pound
    "JPY", // Japanese Yen
    "CHF", // Swiss Franc
    "CAD", // Canadian Dollar
    "AUD"  // Australian Dollar
);

// Constraints:
// - Must be 3-letter ISO code from above list
// - Base currency: USD for reporting

// INTEREST RATE VALIDATION
// Constraints:
// - Must be between 0.000 and 0.200 (0% to 20%)
// - Negative rates not allowed
// - Fixed rate instruments: rate cannot change
// - Variable rate instruments: rate can be updated



// PRINCIPAL AMOUNT VALIDATION
// Constraints:
// - Must be positive value > 0
// - Maximum single exposure: $10,000,000
// - Minimum amount: $100 for retail, $10,000 for wholesale


// PD VALIDATION
// Constraints:
// - Must be between 0.000 and 1.000 (0% to 100%)
// - Must align with credit rating:
//   Rating 10: PD ≤ 0.002 (0.2%)
//   Rating 1: PD ≥ 0.100 (10%)


// LGD VALIDATION
// Constraints:
// - Must be between 0.000 and 1.000 (0% to 100%)
// - Secured loans: LGD ≤ 0.30 (30%)
// - Unsecured loans: LGD ≥ 0.40 (40%)
// - Collateralized: LGD based on collateral value


// CROSS-VALIDATION RULES
// 1. Loans in assets table must exist in loans table
// 2. Asset-liability currency matching recommended
// 3. maturity_date must be consistent with instrument type
// 4. isFixedRate must be consistent with instrument behavior
// 5. Credit rating must match PD range



private String getLoanSector(String borrower) {
    // Checks borrower name for keywords to assign sector
    if (borrower.toLowerCase().contains("inc") || borrower.toLowerCase().contains("corp"))
        return "CORPORATE";           // ← Company/business loans
    if (borrower.toLowerCase().contains("home") || borrower.toLowerCase().contains("loan"))
        return "RETAIL_MORTGAGE";     // ← Home/mortgage loans
    return "RETAIL_OTHER";            // ← Other consumer loans
}
